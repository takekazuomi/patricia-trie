# パトリシアトライ（Patricia Trie）

パトリシアトライまたはRadix Treeとも呼ばれる、空間効率化されたトライ木データ構造の実装。

## 概要

パトリシアトライは通常のトライ木を改良したデータ構造。単一の子を持つノードを親ノードと結合することで、メモリ使用量を大幅に削減し、検索性能を向上。

### 特徴

- **空間効率**: 通常のトライ木と比較して大幅なメモリ使用量削減
- **高速検索**: O(k)の時間計算量（kはキーの長さ）
- **プレフィックス検索**: 指定されたプレフィックスを持つすべてのキーを効率的に検索
- **動的挿入・削除**: 実行時にキーの追加・削除が可能

## 動作原理

### 通常のトライ木との違い

通常のトライ木では、文字列の各文字に対して個別のノードを作成。

```
        root
       /    \
      c      s
      |      |
      a      u
      |      |
      t      n
     /       |
    s        \
             sun
```

パトリシアトライでは、単一の子を持つノードを圧縮：

```
        root
       /    \
     "cat"  "sun"
     /
   "s"
```

### パス圧縮の仕組み

1. **単一パス検出**: 一直線に続く単一の子ノードを特定
2. **パス結合**: 複数のノードを1つのノードに結合
3. **エッジラベル**: 結合されたパスを1つのエッジラベルとして格納

## 主要操作

### 挿入（Insert）

新しいキーを木に挿入。既存のノードとの分岐点を見つけて適切な位置に配置。

### 検索（Search）

指定されたキーの存在を確認。エッジラベルを辿って目的のキーに到達できるかを判定。

### 削除（Delete）

キーを削除し、必要に応じてノードを再結合してパス圧縮を維持。

### プレフィックス検索（Prefix Search）

指定されたプレフィックスを持つすべてのキーを効率的に検索。

## アルゴリズム計算量

| 操作 | 時間計算量 | 空間計算量 |
|------|------------|------------|
| 挿入 | O(k) | O(1) |
| 検索 | O(k) | O(1) |
| 削除 | O(k) | O(1) |
| プレフィックス検索 | O(k + m) | O(m) |

- k: キーの長さ
- m: マッチするキーの数

## 実装予定の機能

- [x] 基本的なパトリシアトライ構造
- [ ] 挿入操作
- [ ] 検索操作
- [ ] 削除操作
- [ ] プレフィックス検索
- [ ] イテレータ
- [ ] 永続化機能

## 使用例

```javascript
// 使用例（実装予定）
const trie = new パトリシアトライ();

// 挿入
trie.insert("cat");
trie.insert("cats");
trie.insert("dog");
trie.insert("dogs");

// 検索
console.log(trie.search("cat")); // true
console.log(trie.search("ca"));  // false

// プレフィックス検索
console.log(trie.findByPrefix("cat")); // ["cat", "cats"]
```

## 参考文献

- [Radix tree - Wikipedia](https://en.wikipedia.org/wiki/Radix_tree)
- [パトリシアトライ - 論文](https://dl.acm.org/doi/10.1145/321479.321481)
- [Data Structures and Algorithms - Robert Sedgewick](https://algs4.cs.princeton.edu/)